pipeline{

    agent any

        stages{

            stage('sonar quality status'){

                agent{

                   docker{
                       image 'maven'
                   } 
                }

                steps{

                    script{

                        withSonarQubeEnv(credentialsId: 'sonar key1', installationName: 'sonarqube server') 
                        {
                        sh 'mvn clean package sonar:sonar'
                        }

                    }
                }
            }

        }

    

}
